### 社团检测
#### 基本概念
社团：网络之中一簇互相关联紧密的结点（如何判定结点之间关联紧密？判断指标是什么？）
>community or cluster is defined as a group of nodes having similar affiliations different to rest of the network (Yang et al., 2010).

社团检测：是指通过局部的密切关系，在一个网络中找到这些关系紧密的结点，即社团（如何找？算法？）

>Community detection refers to the procedure of identifying groups of interacting vertices (i.e., nodes) in a network depending upon their structural properties (Yang et al., 2013; Kelley et al., 2012).

#### 社团检测算法
!["算法图片1234"](https://raw.githubusercontent.com/Joey-Hu/markdown-noteook/master/evernote/%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C/community%20detection/CD_algo1.png)

!["算法图片1234"](https://raw.githubusercontent.com/Joey-Hu/markdown-noteook/master/evernote/%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C/community%20detection/CD_algo2.png)

!["算法图片1234"](https://raw.githubusercontent.com/Joey-Hu/markdown-noteook/master/evernote/%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C/community%20detection/CD_algo3.png)

!["算法图片1234"](https://raw.githubusercontent.com/Joey-Hu/markdown-noteook/master/evernote/%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C/community%20detection/CD_algo4.png)
**************
**重叠社团检测算法**

**1.基于局部扩展优化的重叠社团检测算法**
基于局部扩展优化的社团检测方法往往是通过初始化一些种子节点作为社团种子，然后对初始化后的种子节点及其邻居节点基于扩张规则进行逐步扩张，最终形成社团结构。[4]因为在扩展时可以随机选择种子节点，并且扩展过程是相互独立的，所以每一个种子节点在扩展过程中所有节点都有可能被合并，所以这种方法会划分出重叠社团结构。

Baumes 等人[5]提出了一种基于密度的重叠社团检测算法，该算法首先选取用于扩展的种子节点，然后进行基于定义的密度函数的扩展，最终得到社团结构。密度函数的公式如下所示：
$$f(c)=\frac{W_{in}^c}{W_{in}^c+W_{out}^c}$$
其中，$W_{in}^c$表示社团内部权重之和，$W_{out}^c$表示社团外部权重之和。
根据以上理论基础，作者提出迭代扫描(Iterative Scan, IS)和列队移除(Rank Removal, RaRe)两种算法。

Lancichinetti等人[6]提出了局部适应性(Local Fitness Measure, LFM)算法，该算法的思想是首先随机选择一个节点作为社团种子，通过不断地增加或删除该种子节点的邻居节点，每次都要重新计算适应度函数，使社团的适应度函数达到局部最优，从而得到社团结构。之后选择社团之外的结点，重复上述过程。该算法的停止条件时所有节点都被分配到至少一个社团之中。适应度函数公式如下所示：
$$f(c)=\frac{k_{in}^c}{(k_{in}^c + k_{out}^c)^{\alpha}}$$
其中，$k_{in}^c$和$k_{out}^c$分别表示节点的入度和出度，$\alpha$是一个正实数，用于控制社团的大小。

基于局部扩展的算法，其发现社团的过程是基于网络的局部拓扑结构，虽然社团检测的效率比较高，但是容易陷入局部最优中，获得的社团结构往往没有基于全局的算法好。

**2.基于派系过滤的重叠社团检测算法**

基于派系过滤的重叠社团检测方法的主要思想是将网络中的社团结构看做是由一系列的派系组成的，这里的派系定义为每一个节点都和其他节点相连接的全连通子图。该类算法决定了一个结点可以属于多个派系，所以通过此类算法可以得到的重叠社团结构。

Palla等人[7]在2005年首次在《Nature》上提出了派系过滤算法(k-Clique Percolstion Method, CPM)，该算法思想是认为一个典型的社团结构是由几个相互邻接的k-clique组成的，首先定义网络中所有大小为k的派系，如果两个不同的派系共享k-1个节点，则认为这两个社团具有强关联性而划分到同一社团当中。由于一个节点可能属于多个派系，所以CPM可以发现重叠社团。Farkas等人[8]将CPM算法进行了扩展(CPMw)，将其运用到对加权网络的分析。在该算法中引入了派系强度的概念，其公式如下所示：
$$I(c)=\left ( \prod_{i <  j;i,j\in C}w_{}ij\right )^{\frac {2}{k(k-1)}}$$
其中，k为定义的k-clique的大小，w为边的权重。在CPMw算法中，当一个派系的强度大于阈值时，就将该派系划分到社团当中。在现实网络中，阈值的取值通常是取略大于派系出现的临界值，这样一方面可以让大量的派系参与到社团中，形成丰富的社团结构，又能避免出现一个大社团。针对传统的CPM算法不能覆盖整个网络的这一缺陷，Maity等[9]人在2014年提出了一种基于CPM算法的扩展算法，利用初始社团的归属系数将遗漏的纳入到初始社团中。该算法分为以下步骤：首先找到初始的社团结构，接着对遗漏每个结点计算针对每一个初始社团的归属系数，将该结点纳入到归属系数最大的社团当中，更新社团结构，最后合并相似性很高的社团。归属系数的计算公式如下所示：
$$B(i,c)=\frac{\sum_{j \in c}A_{ij}}{k_i}$$
其中，i表示遗漏结点，c表示初始社团，$k_{ij}$定义为：
$$k_i=\sum_{c \in C}\sum_{j \in c}A_{ij}$$
如果节点i和节点j相连接，$A_{ij}=1$；否则$A_{ij}=0$

2009年shen等人[10]提出一种用极大团和凝集框架的方法(agglomerative hierarchical clustering based on maximal clique，EAGLE)来检测重叠社团的算法。该算法分为两个阶段，第一阶段找到网络中的所有极大团并将其作为初始社团，然后迭代合并相似性最大的两个社团，直到只剩下一个社团，在合并的过程中形成层次聚类树；第二阶段的任务是对层次聚类树进行切割，切割的指标采用的是作者提出的扩展模块度函数EQ，从而得到具有重叠结构的社团。EQ函数的计算公式如下所示：
$$EQ=\frac{1}{2m}\sum_{i}\sum_{v \in C_i,w \in C_i}\frac{1}{O_vO_w}\left [ A_{vw}-\frac{k_vk_w}{2m}\right ]$$
其中，$A_{vw}$与上式类似，m表示网络中的边的数量，$k_v$表示节点v的度。

基于派系的重叠社团检测算法能够准确地检测出网络中的重叠社团，但该算法只适合于子图是全连接的网络，且算法复杂度较高。

**3.基于边划分的重叠社团检测算法**
 相比于以往的算法，将网络中的节点作为社团划分的主要对象，基于边划分的重叠社团检测算法逐渐引起众多学者的重视。

 Ahn等人[11]首次提出将社团看做是一组紧密相关的边集合，而不是节点，这种方式成功调和了重叠社区和层次结构的对立组织原则。作者提出一种算法，该算法分为两个阶段：首先计算网络中任意两条边的相似度，使用单链接聚类形成一棵层次聚类树。边的相似度计算公式如下所示：
 $$S(e_{ik},e_{kj})=\frac{|n_{+}(i) \cap n_{+}(j) |}{|n_{+}(i) \cup n_{+}(j) |}$$
其中，$n_{+}(i)$表示节点i及其邻居节点的集合。算法的第二阶段就是切割层次聚类树，作者提出密度函数用于切割层次聚类树，即可得到兼具层次和重叠特点的社团结构。密度函数如下所示：
 $$D_c=\frac{m_c-(n_c-1)}{n_c(n_c-1)/2-(n_c-1)}$$
 $$D=\frac{2}{M}\sum_{c}m_c\frac{m_c-(n_c-1)}{(n_c-2)(n_c-1)}$$

其中，


**4.基于动态网络的社团检测算法**





#### 社团划分结果评价指标

#### 重叠社团检测算法代码

********
#### 社团检测目前面临的问题
* 网络规模的膨胀
网络的数据量不断增大以及频繁变化，都要求社团检测算法必须快速应对，要求更高的计算效率。

 * 网络结点角色的差异性
在传统的网络模型中，一般认为每个结点都拥有相同的地位，但在实际研究中，网络中的结点也符合“二八法则”，即只有20%的结点能够在其中起引领作用，对社团的形成起决定性作用。

* 重叠社区 
网络的一部分子图会出现在多个社团之中
!["重叠社区"](https://raw.githubusercontent.com/Joey-Hu/markdown-noteook/master/evernote/复杂网络/community%20detection/overlappingCommunities.png)
上图中，社团重叠度可分为(a)无重叠，(b)稀疏重叠，(c)稠密重叠

重叠社区会增大社团检测的难度。一些传统的社团检测方法只能将顶点归类到一个社团当中，对重叠社团则无能为力；另外的一些算法虽然做出了改进以适应重叠社团检测，奈何它们在大规模的网络下表现不佳。

重叠社团检测的一个目的是判断重叠部分的结点之间是否有网络相连，进一步改进关联性分析

#### 社团检测的应用








**参考：**

[1] https://blog.csdn.net/coronia/article/details/81282446
[2] Javed, M. A., Younis, M. S., Latif, S., Qadir, J., & Baig, A. (2018, April 15). Community detection in networks: A multidisciplinary review. Journal of Network and Computer Applications, Vol. 108, pp. 87–111.
[3] https://doi.org/10.1016/j.jnca.2018.02.011
[4] 复杂网络社团演化追踪算法研究_刘坤昇. (n.d.).
[5] Baumes, J., Goldberg, M., Krishnamoorthy, M., Magdon-Ismail, M., & Preston, N. (2005). Finding communities by clustering a graph into overlapping subgraphs. International Conference on Applied Computing (IADIS 2005), (c), 97–104. Retrieved from papers3://publication/uuid/60A63B16-1704-43A8-82D3-986F3E6C0241
[6] Lancichinetti, A., Fortunato, S., & Kertész, J. (2009). Detecting the overlapping and hierarchical community structure in complex networks. New Journal of Physics, 11. https://doi.org/10.1088/1367-2630/11/3/033015
[7] Palla, G., Derényi, I., Farkas, I., & Vicsek, T. (2005). Uncovering the overlapping community structure of complex networks in nature and society. Nature, 435(7043), 814–818. https://doi.org/10.1038/nature03607
[8] Farkas, I. J., Ábel, D., Palla, G., & Vicsek, T. (2007). Weighted network modules. New Journal of Physics, 9. https://doi.org/10.1088/1367-2630/9/6/180
[9] Maity, S., & Rath, S. K. (2014). Extended Clique percolation method to detect overlapping community structure. Proceedings of the 2014 International Conference on Advances in Computing, Communications and Informatics, ICACCI 2014, 31–37. https://doi.org/10.1109/ICACCI.2014.6968420
[10] Shen, H., Cheng, X., Cai, K., & Hu, M. Bin. (2009). Detect overlapping and hierarchical community structure in networks. Physica A: Statistical Mechanics and Its Applications, 388(8), 1706–1712. https://doi.org/10.1016/j.physa.2008.12.021
[11] Ahn, Y. Y., Bagrow, J. P., & Lehmann, S. (2010). Link communities reveal multiscale complexity in networks. Nature, 466(7307), 761–764. https://doi.org/10.1038/nature09182